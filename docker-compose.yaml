version: '3.8'

services:
  guacd:
    image: guacamole/guacd:latest
    container_name: guacd
    restart: unless-stopped
    network_mode: "host"  # ğŸš¨ ä½¿ç”¨å®¿ä¸»æœºç½‘ç»œ

  guacamole:
    image: guacamole/guacamole:latest
    container_name: guacamole
    restart: unless-stopped
    environment:
      - GUACAMOLE_HOME=/opt/guacamole
      - GUACAMOLE_PORT=8890
    ports:
      - "8890:8080"  # è¿™ä¸ªæ˜ å°„ä»ç„¶éœ€è¦
    depends_on:
      - guacd
    volumes:
      - ./extensions:/opt/guacamole/extensions
      - ./lib:/opt/guacamole/lib
      - ./etc/guacamole.properties:/opt/guacamole/guacamole.properties:ro